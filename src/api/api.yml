get_upload_signature:
  handler: src/api/assets/transloadit.get_signature
  events:
    - http:
        method: post
        path: /assets/get_signature
        cors: true
  environment:
    ${file(src/dynamic-environment.js):transloadit}

transloadit_notify:
  handler: src/api/assets/transloadit.transloadit_notify
  events:
    - http:
        method: post
        path: /assets/transloadit
        cors: true
  environment:
    ${file(src/dynamic-environment.js):transloadit}

query_assets:
  handler: src/api/assets/asset.query_assets
  events:
    - http:
        method: get
        path: /assets
        cors: true
  environment:
    ${file(src/dynamic-environment.js):asset_download_link}

asset_download_link:
  handler: src/api/assets/asset.asset_download_link
  events:
    - http:
        method: get
        path: /assets/download
        cors: true
  environment:
    ${file(src/dynamic-environment.js):asset_download_link}

update_asset:
  handler: src/api/assets/asset.update_asset
  events:
    - http:
        method: put
        path: /assets/update
        cors: true
  environment:
    ${file(src/.env.yml):elastic}

get_tags:
  handler: src/api/assets/categorization.get_tags
  events:
    - http:
        method: get
        path: /assets/tags
        cors: true

get_categories:
  handler: src/api/assets/categorization.get_categories
  events:
    - http:
        method: get
        path: /assets/categories
        cors: true

add_tags:
  handler: src/api/assets/categorization.add_tags
  events:
    - http:
        method: post
        path: /assets/tags
        cors: true

add_categories:
  handler: src/api/assets/categorization.add_categories
  events:
    - http:
        method: post
        path: /assets/categories
        cors: true
